(function(e){function t(t){for(var a,n,d=t[0],s=t[1],l=t[2],c=0,v=[];c<d.length;c++)n=d[c],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&v.push(o[n][0]),o[n]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a]);u&&u(t);while(v.length)v.shift()();return i.push.apply(i,l||[]),r()}function r(){for(var e,t=0;t<i.length;t++){for(var r=i[t],a=!0,n=1;n<r.length;n++){var s=r[n];0!==o[s]&&(a=!1)}a&&(i.splice(t--,1),e=d(d.s=r[0]))}return e}var a={},o={app:0},i=[];function n(e){return d.p+"static/js/"+({about:"about"}[e]||e)+"."+{about:"91336fc2"}[e]+".js"}function d(t){if(a[t])return a[t].exports;var r=a[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,d),r.l=!0,r.exports}d.e=function(e){var t=[],r=o[e];if(0!==r)if(r)t.push(r[2]);else{var a=new Promise((function(t,a){r=o[e]=[t,a]}));t.push(r[2]=a);var i,s=document.createElement("script");s.charset="utf-8",s.timeout=120,d.nc&&s.setAttribute("nonce",d.nc),s.src=n(e);var l=new Error;i=function(t){s.onerror=s.onload=null,clearTimeout(c);var r=o[e];if(0!==r){if(r){var a=t&&("load"===t.type?"missing":t.type),i=t&&t.target&&t.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+i+")",l.name="ChunkLoadError",l.type=a,l.request=i,r[1](l)}o[e]=void 0}};var c=setTimeout((function(){i({type:"timeout",target:s})}),12e4);s.onerror=s.onload=i,document.head.appendChild(s)}return Promise.all(t)},d.m=e,d.c=a,d.d=function(e,t,r){d.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},d.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},d.t=function(e,t){if(1&t&&(e=d(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(d.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)d.d(r,a,function(t){return e[t]}.bind(null,a));return r},d.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return d.d(t,"a",t),t},d.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},d.p="/",d.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;i.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var a=r("2b0e"),o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("div",{attrs:{id:"nav"}},[r("router-link",{attrs:{to:"/"}},[e._v("Home")]),e._v(" | "),r("router-link",{attrs:{to:"/about"}},[e._v("About")])],1),r("router-view")],1)},i=[],n=(r("5c0b"),r("2877")),d={},s=Object(n["a"])(d,o,i,!1,null,null,null),l=s.exports,c=(r("d3b7"),r("3ca3"),r("ddb0"),r("8c4f")),u=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("v-app",[r("v-content",{staticClass:"container align-center px-1"},[r("h2",{staticClass:"font-weight-light mb-2"},[e._v(" COSMOS ODYSSEY ")]),r("p",[e._v("Solar System Travel Deals")]),r("v-card",[r("v-card-title",[e._v(" Flights "),r("v-spacer"),r("div",[r("v-select",{attrs:{items:e.headers,label:"Select Columns",multiple:"",outlined:"","return-object":""},scopedSlots:e._u([{key:"selection",fn:function(t){var a=t.item,o=t.index;return[o<5?r("v-chip",[r("span",[e._v(e._s(a.text))])]):e._e(),5===o?r("span",{staticClass:"grey--text caption"},[e._v("(+"+e._s(e.selectedHeaders.length-2)+" others)")]):e._e()]}}]),model:{value:e.selectedHeaders,callback:function(t){e.selectedHeaders=t},expression:"selectedHeaders"}})],1)],1),r("v-data-table",{staticClass:"elevation-1",attrs:{headers:e.showHeaders,dense:"",hover:"",search:e.search,items:e.items,"mobile-breakpoint":"800",inline:"",loading:e.loadTable,"loading-text":"Loading... Please wait",fields:e.visibleFields},scopedSlots:e._u([{key:"item.providerPrice",fn:function(t){var a=t.item;return[r("v-chip",{attrs:{color:e.getColor(a.providerPrice),dark:""}},[e._v(" "+e._s(a.providerPrice)+" ")])]}},{key:"item.actions",fn:function(t){var a=t.item;return[r("div",{staticClass:"text-truncate"},[r("v-btn",{staticClass:"mr-2",attrs:{small:"",color:"primary"},on:{click:function(t){return e.showEditDialog(a)}}},[e._v(" Book this "),r("v-icon",{attrs:{dark:"",right:""}},[e._v(" mdi-checkbox-marked-circle ")])],1),r("v-icon",{attrs:{small:"",color:"pink"},on:{click:function(t){return e.deleteItem(a)}}},[e._v(" mdi-delete ")])],1)]}},{key:"item.details",fn:function(t){var a=t.item;return[r("div",{staticClass:"text-truncate",staticStyle:{width:"180px"}},[e._v(" "+e._s(a.Details)+" ")])]}},{key:"item.url",fn:function(t){var a=t.item;return[r("div",{staticClass:"text-truncate",staticStyle:{width:"180px"}},[r("a",{attrs:{href:a.URL,target:"_new"}},[e._v(e._s(a.URL))])])]}}])},[r("v-snackbar",{scopedSlots:e._u([{key:"action",fn:function(t){var a=t.attrs;return[r("v-btn",e._b({attrs:{color:"pink",text:""},on:{click:function(t){e.snackbar=!1}}},"v-btn",a,!1),[e._v(" Close ")])]}}]),model:{value:e.snackbar,callback:function(t){e.snackbar=t},expression:"snackbar"}},[e._v(e._s(e.text)+" ")])],1),r("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[r("div",{staticClass:"d-flex"},[r("v-btn",e._g({staticClass:"ml-auto ma-3",attrs:{color:"primary",dark:""}},a),[e._v(" New "),r("v-icon",{attrs:{small:""}},[e._v("mdi-plus-circle-outline")])],1)],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[r("v-card",[r("v-card-title",{staticClass:"caption"},[e.editedItem.id?r("span",[e._v("Booking to: "+e._s(e.editedItem.id))]):e._e(),e.editedItem.id?r("span",[e._v("From: "+e._s(e.editedItem.routeFromName))]):e._e(),e.editedItem.id?r("span",[e._v("To: "+e._s(e.editedItem.routeToName))]):e._e(),e.editedItem.id?r("span",[e._v("Leaves: "+e._s(e.editedItem.providerFlightStart))]):e._e(),e.editedItem.id?r("span",[e._v("Arrives: "+e._s(e.editedItem.providerFlightEnd))]):e._e(),e.editedItem.id?r("span",[e._v("Quoted price: "+e._s(e.editedItem.providerPrice))]):e._e(),e.editedItem.id?r("span",[e._v("Travel time: "+e._s(e.editedItem.route))]):e._e(),e.editedItem.id?r("span",[e._v("Transport Company: "+e._s(e.editedItem.rout))]):r("span",[e._v("Create")])]),r("v-card-text",[r("v-row",[r("v-col",{attrs:{cols:"12",sm:"4"}},[r("v-text-field",{attrs:{label:"Name"},model:{value:e.editedItem.Name,callback:function(t){e.$set(e.editedItem,"Name",t)},expression:"editedItem.Name"}})],1),r("v-col",{attrs:{cols:"12",sm:"8"}},[r("v-text-field",{attrs:{label:"Details"},model:{value:e.editedItem.Details,callback:function(t){e.$set(e.editedItem,"Details",t)},expression:"editedItem.Details"}})],1),r("v-col",{attrs:{cols:"12",sm:"12"}},[r("v-text-field",{attrs:{label:"URL"},model:{value:e.editedItem.URL,callback:function(t){e.$set(e.editedItem,"URL",t)},expression:"editedItem.URL"}})],1)],1)],1),r("v-card-actions",[r("v-spacer"),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.showEditDialog()}}},[e._v("Cancel")]),r("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.saveItem(e.editedItem)}}},[e._v("Save")])],1)],1)],1)],1)],1)],1)],1)},v=[],p=(r("4de4"),r("caad"),r("2532"),r("07ac"),r("d81d"),r("99af"),r("c740"),r("a434"),r("bc3a")),m=r.n(p),f="keyZIIVNiQPvozEWb",h="appXJzFFs2zgj4X5C",I="Example",b={data:function(){return{headers:[{text:"Action",value:"actions",sortable:!1},{text:"ID",value:"id"},{text:"Expires",value:"validUntil"},{text:"Legs ID",value:"legsId"},{text:"Route ID",value:"routeId"},{text:"Route From ID",value:"routeFromId"},{text:"Route From Name",value:"routeFromName"},{text:"Route To Id",value:"routeToId"},{text:"Route To Name",value:"routeToName"},{text:"Route Distance",value:"routeDistance"},{text:"Provider ID",value:"providerId"},{text:"Provider Price",value:"providerPrice"},{text:"Provider Flight Start",value:"providerFlightStart"},{text:"Provider Flight End",value:"providerFlightEnd"},{text:"Provider Company ID",value:"providerCompanyId"},{text:"Provider Name",value:"providerCompanyName"}],headersMap:{action:{text:"Action",value:"actions",sortable:!1},id:{text:"ID",value:"id",checked:!1},validUntil:{text:"Expires",value:"validUntil"},legsId:{text:"legsId",value:"legsId"},routeId:{text:"routeId",value:"routeId"},routeFromId:{text:"routeFromId",value:"routeFromId"},routeFromName:{text:"From",value:"routeFromName"},routeToId:{text:"routeToId",value:"routeToId"},routeToName:{text:"Where",value:"routeToName"},routeDistance:{text:"Distance (km)",value:"routeDistance"},providerId:{text:"providerId",value:"providerId"},providerPrice:{text:"Price ($)",value:"providerPrice"},providerFlightStart:{text:"Leaves (date)",value:"providerFlightStart"},providerFlightEnd:{text:"Arrives (date)",value:"providerFlightEnd"},providerCompanyName:{text:"Provider Name",value:"providerCompanyName"},providerCompanyId:{text:"providerId",value:"providerCompanyId"}},items:[],selectedHeaders:[],dialog:!1,editedItem:{},loadTable:!0,search:"",snackbar:!1,text:"Booked you on flight!"}},computed:{showHeaders:function(){var e=this;return this.headers.filter((function(t){return e.selectedHeaders.includes(t)}))}},created:function(){this.headers=Object.values(this.headersMap),this.selectedHeaders=this.headers},mounted:function(){this.loadItems()},methods:{getColor:function(e){return e>25e5?"red":e>1e5?"orange":"green"},showEditDialog:function(e){this.editedItem=e||{},this.dialog=!this.dialog},loadItems:function(){var e=this;Object(p["get"])("api/serverinfo").then((function(t){e.loadTable=!1,e.items=t.data.map((function(e){return{id:e.id,validUntil:e.validUntil,legsId:e.legsId,routeId:e.routeId,routeFromId:e.routeFromId,routeFromName:e.routeFromName,routeToId:e.routeToId,routeToName:e.routeToName,routeDistance:e.routeDistance,providerId:e.providerId,providerPrice:e.providerPrice,providerFlightStart:e.providerFlightStart,providerFlightEnd:e.providerFlightEnd,providerCompanyId:e.providerCompanyId,providerCompanyName:e.providerCompanyName}}))})).catch((function(e){console.log(e)}))},saveItem:function(e){var t=this,r="post",a="https://api.airtable.com/v0/".concat(h,"/").concat(I),o=e.id,i={fields:e};o&&(r="patch",a="https://api.airtable.com/v0/".concat(h,"/").concat(I,"/").concat(o),delete i.fields.id),axios[r](a,i,{headers:{Authorization:"Bearer "+f,"Content-Type":"application/json"}}).then((function(e){e.data&&e.data.id&&(console.log(e.data),t.editedItem.id=e.data.id,o||t.items.push(t.editedItem),t.editedItem={}),t.dialog=!t.dialog}))},deleteItem:function(e){var t=e.id,r=this.items.findIndex((function(e){return e.id===t}));confirm("Are you sure you want to delete this?")&&this.items.splice(r,1)}}},x=b,g=Object(n["a"])(x,u,v,!1,null,null,null),_=g.exports;a["default"].use(c["a"]);var y=[{path:"/",name:"Home",component:_},{path:"/about",name:"About",component:function(){return r.e("about").then(r.bind(null,"f820"))}}],k=new c["a"]({mode:"history",base:"/",routes:y}),C=k,F=r("2106"),w=r.n(F),P=r("ce5b"),N=r.n(P);r("bf40");a["default"].use(N.a);var T=new N.a({theme:{dark:!1}});a["default"].use(N.a),a["default"].use(w.a,m.a),a["default"].config.productionTip=!1,new a["default"]({router:C,vuetify:T,render:function(e){return e(l)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";r("9c0c")},"9c0c":function(e,t,r){}});
//# sourceMappingURL=app.31637938.js.map